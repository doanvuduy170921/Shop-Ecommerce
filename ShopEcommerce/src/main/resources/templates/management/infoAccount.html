<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi tiết tài khoản</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/management.css}">
    <link rel="stylesheet" th:href="@{/css/infoAccount.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
</head>
<body>

<th:block th:insert="~{component/header}" />
<!--<header_admin>-->
<!--    <div class="logo-container_admin">-->
<!--        <img src="logo.png" alt="Logo" class="logo_admin">-->
<!--    </div>-->
<!--    <div class="user-profile">-->
<!--        <img src="user-icon.png" alt="User" class="user-icon_admin">-->
<!--    </div>-->
<!--</header_admin>-->
<div class="container_infoUser">
    <main class="content_infoUser">
        <div class="content-header-infoUser">
            <span>Chi tiết tài khoản</span>
        </div>

<!--        <div class="profile-header">-->
<!--            <div class="profile-avatar">-->
<!--                <img src="user-icon.png" alt="Avatar">-->
<!--            </div>-->
<!--        </div>-->

        <div class="content_infoUser_body">
            <div class="account-details_infoUser">
                <table>
                    <tr>
                        <th>Họ tên:</th>
                        <td th:text="${user.name}"></td>
                    </tr>
                    <tr>
                        <th>Số điện thoại:</th>
                        <td th:text="${user.phoneNumber}"></td>
                    </tr>
                    <tr>
                        <th>Địa chỉ:</th>
                        <td th:text="${user.address}"></td>
                    </tr>
                    <tr>
                        <th>Ngày sinh:</th>
                        <td th:text="${#temporals.format(user.dateOfBirth, 'dd/MM/yyyy')}"></td>
                    </tr>
                    <tr>
                        <th>Email:</th>
                        <td th:text="${user.email}"></td>
                    </tr>
                    <tr>
                        <th>Ngày tạo:</th>
                        <td th:text="${#temporals.format(user.createdAt, 'dd/MM/yyyy HH:mm')}"></td>
                    </tr>
                </table>
            </div>
            <div class="buttons">
                <a th:href="@{/home}">
                    <button class="back-btn-large" onclick="goBack()">
                        <span class="back-icon"></span> Quay lại
                    </button>
                </a>
                <a th:href="@{/updateAccount/{id}(id=${user.id})}" style="">
                    <button class="update-btn-large">
                        <span class="update-icon"></span> Cập nhật
                    </button>
                </a>
                <form th:action="@{/infoAccount/deactivate/{id}(id=${user.id})}" method="post" style="display:inline;" class="delete-form" id="deleteForm">
                    <button type="button" class="delete-btn-large" onclick="confirmDeactivate(this)">
                        <span class="delete-icon"></span> Xóa
                    </button>
                </form>
            </div>
        </div>
    </main>
</div>


<th:block th:insert="~{component/footer}" />
<script>
    // Modal functions
    function openModal() {
        document.getElementById('deleteModal').style.display = 'block';
    }

    function closeModal() {
        document.getElementById('deleteModal').style.display = 'none';
    }

    // Close modal if user clicks outside of it
    window.onclick = function (event) {
        if (event.target == document.getElementById('deleteModal')) {
            closeModal();
        }
    }

    function goBack() {
        window.history.back();
    }


    function confirmDeactivate(button) {
        if (confirm('Bạn có chắc chắn muốn xóa tài khoản này?')) {
            button.closest('.delete-form').submit();
        } else {
            // Không làm gì cả khi người dùng chọn "Hủy"
            console.log('Đã hủy việc xóa tài khoản');
        }
    }

</script>

</body>
</html>